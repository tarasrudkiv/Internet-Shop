{"version":3,"sources":["./src/app/user-module/components/all-users/all-users.component.ts","./src/app/user-module/components/all-users/all-users.component.html","./src/app/user-module/components/user-page-for-admin/user-page-for-admin.component.ts","./src/app/user-module/components/user-page-for-admin/user-page-for-admin.component.html","./src/app/user-module/user.module.ts","./src/app/user-module/services/user-resolve.service.ts","./src/app/user-module/components/user-card/user-card.component.ts","./src/app/user-module/components/user-card/user-card.component.html"],"names":[],"mappings":"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","file":"user-module-user-module.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {UserService} from '../../services/user.service';\r\nimport {IUserPage} from '../../model/userPageModel';\r\nimport {IUser} from '../../model/userModel';\r\n\r\n\r\n@Component({\r\n  selector: 'app-all-users',\r\n  templateUrl: './all-users.component.html',\r\n  styleUrls: ['./all-users.component.css']\r\n})\r\nexport class AllUsersComponent implements OnInit {\r\n  data: IUserPage;\r\n  users: IUser[];\r\n  totalElements: number;\r\n\r\n  constructor(private userService: UserService, private activatedRoute: ActivatedRoute, private router: Router) {\r\n    this.activatedRoute.data.subscribe(value => this.data = value.allUsers);\r\n    this.users = this.data.usersList;\r\n    this.totalElements = this.data.totalElements;\r\n    console.log(this.users);\r\n  }\r\n\r\n  public toUserPage(user: IUser): void {\r\n    this.router.navigate(['admin/allUsers/user', user.id], {state: {user}});\r\n  }\r\n\r\n  onPageChange(pageNumber: number): void {\r\n    this.userService.getAllUsers(pageNumber - 1).subscribe(value =>\r\n      this.users = value.usersList);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-user-card *ngFor=\"let user of users\" [user]=\"user\" (click)=\"toUserPage(user)\"></app-user-card>\r\n<ngb-pagination class=\"d-flex justify-content-center\" [collectionSize]=\"totalElements\" maxSize=\"10\"\r\n                (pageChange)=\"onPageChange($event)\"  [boundaryLinks]=\"true\"></ngb-pagination>\r\n","import {Component, OnInit} from '@angular/core';\nimport {IUser} from \"../../model/userModel\";\nimport {UserService} from \"../../services/user.service\";\nimport {error} from \"@angular/compiler/src/util\";\n\n@Component({\n  selector: 'app-user-page-for-admin',\n  templateUrl: './user-page-for-admin.component.html',\n  styleUrls: ['./user-page-for-admin.component.css']\n})\nexport class UserPageForAdminComponent implements OnInit {\n  singleUser: IUser;\n  role: string;\n\n  constructor(private userService: UserService) {\n    this.singleUser = history.state.user;\n    this.role = this.singleUser.role\n  }\n\n  public isMainAdmin(): boolean {\n    console.log(localStorage.getItem(\"role\") === \"ROLE_MAIN_ADMIN\");\n    return (localStorage.getItem(\"role\") === \"ROLE_MAIN_ADMIN\")\n  }\n\n  changeRole() {\n    console.log(this.role);\n    if (this.role === \"ROLE_USER\" || this.role === \"ROLE_ADMIN\") {\n      this.userService.changeRole(this.role, this.singleUser.id).subscribe();\n    } else {\n      alert(\"print correct role\")\n    }\n    console.log(this.role);\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div>\n  <div>\n      <p>\"role \"{{singleUser.role}}</p>\n    <div *ngIf=\"isMainAdmin()\">\n      <p>print one of the roles: ROLE_USER, ROLE_ADMIN </p>\n    <form>\n      <input type=\"text\" name=\"role\" [(ngModel)]=\"role\">\n      <button (click)=\"changeRole()\">change</button>\n    </form>\n    </div>\n    <p>{{singleUser.username}}</p>\n  </div>\n  <div>products</div>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AllUsersComponent} from './components/all-users/all-users.component';\nimport {UserCardComponent} from './components/user-card/user-card.component';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {HttpClientModule} from '@angular/common/http';\nimport {RouterModule, Routes} from '@angular/router';\nimport {UserResolveService} from './services/user-resolve.service';\nimport {UserPageForAdminComponent } from './components/user-page-for-admin/user-page-for-admin.component';\nimport {UserPageComponent} from \"./components/user-page/user-page.component\";\nimport {FormsModule} from \"@angular/forms\";\n\nconst routes: Routes = [\n  {path: '', component: AllUsersComponent, resolve: {allUsers: UserResolveService}},\n  {path: 'user/:name', component: UserPageForAdminComponent},\n];\n\n@NgModule({\n  declarations: [\n    AllUsersComponent,\n    UserCardComponent,\n    UserPageComponent,\n    UserPageForAdminComponent\n  ],\n    imports: [\n        CommonModule,\n        HttpClientModule,\n        NgbModule,\n        RouterModule.forChild(routes),\n        FormsModule\n    ]\n})\nexport class UserModule {\n}\n","import {Injectable} from '@angular/core';\r\nimport {Resolve} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {UserService} from './user.service';\r\nimport {IUserPage} from '../model/userPageModel';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserResolveService implements Resolve<IUserPage> {\r\n   pageNumber: number;\r\n\r\n  constructor(private userService: UserService) {\r\n    this.pageNumber = 0;\r\n  }\r\n\r\n  resolve(): Observable<IUserPage> {\r\n    return this.userService.getAllUsers(this.pageNumber);\r\n  }\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {IUser} from '../../model/userModel';\r\n\r\n\r\n@Component({\r\n  selector: 'app-user-card',\r\n  templateUrl: './user-card.component.html',\r\n  styleUrls: ['./user-card.component.css']\r\n})\r\nexport class UserCardComponent implements OnInit {\r\n  @Input() user: IUser;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div [ngClass]=\"{card:true}\" >\r\n  <div>{{user.username}}</div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}