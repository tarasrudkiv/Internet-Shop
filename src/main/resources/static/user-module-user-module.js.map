{"version":3,"sources":["./src/app/user-module/components/user-page/user-page.component.ts","./src/app/user-module/components/user-page/user-page.component.html","./src/app/order-module/services/order.service.ts","./src/app/user-module/user.module.ts"],"names":[],"mappings":"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","file":"user-module-user-module.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {IUser} from \"../../model/userModel\";\nimport {UserService} from \"../../services/user.service\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-user-page',\n  templateUrl: './user-page.component.html',\n  styleUrls: ['./user-page.component.css']\n})\nexport class UserPageComponent implements OnInit {\n\n  user: IUser;\n\n  constructor(private userService: UserService, private router: Router) {\n    this.userService.getOneUser(localStorage.getItem('userName')).subscribe(value => {\n      this.user = value;\n      localStorage.setItem('role', this.user.role);\n      localStorage.setItem('id', JSON.stringify(this.user.id));\n      this.toBasket();\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  isAdmin(): boolean {\n    return (localStorage.getItem('role') === 'ROLE_ADMIN' || localStorage.getItem('role') === 'ROLE_MAIN_ADMIN');\n  }\n\n  toAdminPage(): void {\n    this.router.navigate(['/userPage/admin']);\n  }\n\n  toOrdersPage(): void {\n    this.router.navigate(['/userPage/order/myOrders']);\n  }\n\n  toBasket(): void {\n    this.router.navigate(['/userPage/basket']);\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div [ngClass]=\"{main:true}\" *ngIf=\"user\">\n  <div [ngClass]=\"{userInfoAndAdminButton:true}\">\n    <div [ngClass]=\"{adminButtonBlock:true}\">\n      <button [ngClass]=\"{adminButton:true}\" *ngIf=\"isAdmin()\" (click)=\"toAdminPage()\">Admin Page</button>\n    </div>\n    <div [ngClass]=\"{userInfo:true}\">\n      <h3> User name -  {{user.username}}</h3>\n      <h3> {{user.role}}</h3>\n      <h3> Phone number -  {{user.phoneNumber}}</h3>\n      <h3> Email - {{user.email}}</h3>\n    </div>\n  </div>\n  <div [ngClass]=\"{buttonsAndLine:true}\">\n    <div [ngClass]=\"{buttons:true}\">\n      <button [ngClass]=\"{basketButton:true}\" (click)=\"toBasket()\">Basket</button>\n      <button [ngClass]=\"{ordersButton:true}\" (click)=\"toOrdersPage()\">My orders</button>\n    </div>\n    <div [ngClass]=\"{line:true}\"></div>\n  </div>\n  <router-outlet></router-outlet>\n</div>\n","import {Injectable} from '@angular/core';\nimport {Observable} from \"rxjs\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {IOrderedProduct} from \"../models/orderedProductModel\";\nimport {IOrderPage} from \"../models/orderPageModel\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n\n  constructor(private httpClient: HttpClient) {\n  }\n\n  public orderProduct(orderedProduct: IOrderedProduct): Observable<IOrderedProduct> {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.post<IOrderedProduct>(\"http://localhost:8080/order\", orderedProduct, {headers}))\n  }\n\n  public getAllOrders(page:number): Observable<IOrderPage> {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.get<IOrderPage>(`http://localhost:8080/order/?page=${page}`, {headers}))\n  }\n\n  public getAllOrdersByUserName(userName: string, page: number): Observable<IOrderPage> {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.get<IOrderPage>(`http://localhost:8080/order/${userName}/?page=${page}`, {headers}))\n  }\n\n  public findOrderByStatus(status: string, page: number): Observable<IOrderPage> {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.get<IOrderPage>(`http://localhost:8080/order/status/${status}/?page=${page}`, {headers}))\n  }\n  public findOrderByProductName(productName: string, page: number): Observable<IOrderPage> {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.get<IOrderPage>(`http://localhost:8080/order/productName/${productName}/?page=${page}`, {headers}))\n  }\n\n  public setStatus(status: string, id: number): Observable<IOrderedProduct> {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.put<IOrderedProduct>(`http://localhost:8080/order/status/${id}`, status, {headers}))\n  }\n\n  public deleteOrder(orderId: number) {\n    let token = localStorage.getItem(\"token\");\n    let tokenSTR = 'Bearer ' + token;\n    const headers = new HttpHeaders().set(\"Authorization\", tokenSTR);\n    return (this.httpClient.delete(`http://localhost:8080/order/delete/${orderId}`, {headers}).subscribe())\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AllUsersComponent} from './components/all-users/all-users.component';\nimport {UserCardComponent} from './components/user-card/user-card.component';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {HttpClientModule} from '@angular/common/http';\nimport {RouterModule, Routes} from '@angular/router';\nimport {UserPageComponent} from \"./components/user-page/user-page.component\";\nimport {FormsModule} from \"@angular/forms\";\nimport {MyOrdersComponent} from \"../order-module/components/my-orders/my-orders.component\";\nimport {BasketComponent} from \"../components/basket/basket.component\";\n\nconst routes: Routes = [\n  {\n    path: '', component: UserPageComponent, children: [\n      {path: 'order/myOrders', component: MyOrdersComponent},\n      {path: 'basket', component: BasketComponent}\n    ]\n  },\n  {path: 'admin', loadChildren: () => import('../admin-module/admin.module').then(m => m.AdminModule)},\n];\n\n@NgModule({\n  declarations: [\n    AllUsersComponent,\n    UserCardComponent,\n    UserPageComponent,\n  ],\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    NgbModule,\n    RouterModule.forChild(routes),\n    FormsModule\n  ]\n})\nexport class UserModule {\n}\n"],"sourceRoot":"webpack:///"}